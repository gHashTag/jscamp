---
id: javascript11
title: Функции
sidebar_label: Функции
---

Функции нужны, чтобы не повторять один и тот же код во многих местах программного алгоритма. В современных программах `функции` являются основными «блоками».

## Выбор имени функции

Функция – это действие! Поэтому имя функции обычно является глаголом. Оно должно быть простым, точным и описывать действие функции, чтобы программист, который будет читать код, получил верное представление о том, что делает функция.

Как правило, используются глагольные префиксы, обозначающие общий характер действия, после которых следует уточнение. Обычно в командах разработчиков действуют соглашения, касающиеся значений этих префиксов.

Например, функции, начинающиеся с `"show"` обычно что-то показывают.

Функции, начинающиеся с…

```javascript
"get.."     – возвращают значение,
"calc.."    – что-то вычисляют,
"create.."  – что-то создают,
"check.."   – что-то проверяют и возвращают логическое значение, и т.д.
```

Примеры таких имён:

```javascript
showMessage(..)     // показывает сообщение
getAge(..)          // возвращает возраст (в каком либо значении)
calcSum(..)         // вычисляет сумму и возвращает результат
createForm(..)      // создаёт форму (и обычно возвращает её)
checkPermission(..) // проверяет доступ, возвращая true/false
```

Благодаря префиксам, при первом взгляде на имя функции становится понятным что делает её код, и какое значение она может возвращать.

В любом случае вы и ваша команда должны точно понимать, что значит префикс и что функция с ним может делать, а чего не может.

:::note Сверхкороткие имена функций
Имена функций, которые используются очень часто, иногда делают сверхкороткими.

Например, во фреймворке jQuery есть функция с именем `$`. В библиотеке Lodash основная функция представлена именем \_.

Это исключения. В основном имена функций должны быть в меру краткими и описательными.
:::

### Функции == Комментарии

Функции должны быть короткими и делать только что-то одно. Если это что-то большое, имеет смысл разбить функцию на несколько меньших. Cледовать этому правилу определённо полезно, особенно в командной работе.

Небольшие функции не только облегчают тестирование и отладку – само существование таких функций выполняет роль хороших комментариев.

## Объявление функции

Для создания функций мы используем объявление функции.

Вначале идёт ключевое слово `function`, после него имя функции, затем список параметров в круглых скобках через запятую (в приведённом примере он пустой) и, наконец, код функции, также называемый «телом функции», внутри фигурных скобок.

Это классический способ написания функкций называется `Function Declaration`.

Синтаксис:

```javascript
function имя(параметры) {
  ... тело ...  // Алгоритм
  return итоговоеЗначение;
}
```

:::note Внимание !
Если `return` не указан, вместо него функция возвращает `undefined` и по умолчанию считается, что функция заканчивается пустой заглушкой `return`, выполняя лишь внутренние скрипты.
:::

В JavaScript создавать функцию кроме классического способа `Function Declaration` можно ещё посредством:

- `Function Expression`
- `Arrow Function(стрелочные функции)`

`Function Expression` - это объявление функции, которая является частью какого-либо выражения (например, присваивания).

```javascript
const имя = function (параметры) {
  // инструкции
}
```

Сравним `Function Declaration` и `Function Expression`:

```javascript
// Function Declaration
function sum(num1, num2) {
  return num1 + num2
}

// Function Expression
const sum = function (num1, num2) {
  return num1 + num2
}
```

C синтаксисом `Arrow Function (стрелочные функции)` мы познакомимся позже в этой главе. Это упрощенный и часто используемый способ написания функций.

### Функции без return

Пример объявления функции без ключевого слова `return`:

```javascript
function myMessage() {
  let str = 'Hello!'
}
```

Это обыкновенная процедура, выполняющая последовательность команд. В данном случае внутри тела находится единственная команда `let str = 'Hello!'`, где переменной `str` присваивается значение `'Hello!'`.

Чтобы вызвать функцию, исполненить ее, необходимо обраться к ней по имени и после указать две круглые скобки `myMessage()`:

```javascript
// объявление функции
function myMessage() {
  let str = 'Hello!'
}

myMessage() // вызов функции
```

Обратите внимание, что в данном примере функция вызывается, но не возвращает значения.

### Функции с return

Чтобы функция что-то возвращала, в ее теле указывают ключевое слово `return` (точка выхода или возврата результата) и возвращаемое значение.

```jsx live
function showNumberFive() {
  return 5
}
```

Экспериментируйте, поставьте вместо исходной цифры количество ваших лет.

:::tip Запомните!
Объявив функцию, а затем вызвав её, мы в любом случае получаем результат выполнения алгорима (заранее описанных действий) в теле функции.
:::

### Функция внутри другой функции

Внутри функции можно размещать другие функции. Например функция `showNumberFive()` вернет цифру 5, значение которой выведем через вызов функции `learnJavaScript()`.

```jsx live
function learnJavaScript() {
  function showNumberFive() {
    return 5
  }
  return showNumberFive()
}
```

Давайте рассмотрим всё это шаг за шагом:

- Ключевое слово `function` указывает интерпретатору на то, что следующий далее код является пользовательским, то есть созданной Вами, а не встроенной функцией.
- Написанное верблюжьимРегистром `showNumberFive` является пользовательским названием этой функции. Для интерпретатора в общем‑то нет разницы, как именно называется эта функция, но лучше давать функциям названия, из которых чётко следует, что именно они делают.
- `()` скобки обязательный элемент любой функции. Порой в скобки заключается одна, две и более переменных, в нашем случае в скобках нет ничего.
- В фигурные скобки `{}` должно быть заключено само тело функции - суть алгоритма программы.
- Само тело функции принято выделять отступами справа (при помощи клавиши TAB). Это не обязательно для выполнения программы, но обязательно для коллективной работы, поскольку значительно облегчает читабельность кода.
- Ключевое слово `return` означает, что всякий раз когда мы вызываем эту функцию, значение будет передано, то есть «возвращено», интерпретатору, поэтому оно называется «возвращаемое значение функции».

Еще один пример:

```jsx live
function sum() {
  let x = 10
  let y = 20
  let z = x + y // Алгоритм
  return z
}
```

В функции `sum()` объявляются переменные `x` и `y` со значениями, объявляется переменная `z` и по заданному алгоритму производим расчет (сложение 2-х чисел), а результат выводим через `return`.

При необходимости обращаться к функции можно несколько раз. Например в значение двух разных переменых присвоить нашу функцию:

```javascript
let x1 = sum()

let y1 = sum()
```

Этот пример явно показывает одно из главных предназначений функций: избавление от дублирования кода! Функцию можно запускать множества раз в разных участках вашего кода.

## Параметры и аргументы функций

Объявим ещё одну функцию, но уже с переменной в скобках.
Когда при функции в скобках есть ещё и переменная, мы будем называть её `формальным параметром` (заранее неопределенным, мы же не знаем чему будет равно значение x). У большей части функций будут параметры, но иногда нам встретятся функции и без них.

```javascript
function addThree(x) {
  return x + 3
}
```

После объявления функции и её параметров, мы можем вызвать (запустить) «блок кода» с конкретным значением (например: 5).
Такое присваивание значения мы будем называть аргументом:

```javascript
addThree(5)

Ответ: 8
```

В нашем примере цифра 5 является `аргументом функции` - конкретное передаваемое значение внутрь функции.
Как только наша функция получила свой аргумент, она тотчас же присвоила его значение переменной x (которое является формальным параметром нашей функции).

Полный пример кода, смело экспериментируйте:

```jsx live
function learnJavaScript() {
  function addThree(x) {
    return x + 3
  }

  return addThree(5)
}
```

### Разница между параметрами и аргументами

Состоит в следующем:

`аргумент` — это конкретное значение, которое мы «передали» функции при её вызове в скобочках. Это значение или набор значений присваивается формальным параметрам этой функции.

`параметр` — это название переменной, указанное в объявлении функции и ожидающее присваивания конкретного значения в момент вызова функции. Присваиваемое параметру значение и есть аргумент.

Множество программистов используют эти термины (аргумент и параметр) взаимозаменяемо, но мы то разницу поняли.

### Расчет периметра

Давайте попробуем объявить функцию расчета по двум сторонам периметра прямоугольника, параметры которой будут ожидать два числа в качестве своего значения. Обратите внимание, что если у вас более одного параметра, то их необходимо отделять друг от друга запятой.

```jsx live
function learnJavaScript() {
  function calcPrym(x, y) {
    return 2 * x + 2 * y
  }
  return calcPrym(7, 4)
}
```

Когда мы вызовем эту функцию, мы должны будем задать ей в качестве аргументов два числа - значения сторон конкретного прямоугольника (отделённых друг от друга запятой):

```javascript
calcPrym(7, 8)

Ответ: 30
```

О, большое спасибо, компьютер!

Передавая функции уже другие значения, она сразу посчитает периметры и других прямоугольников.

:::info Еще раз!
Одно из главных предназначений функций - это избавление от дублирования кода и возможности их многократного вызова для решения ваших задач.
:::

## Встроенные функции

### console.log()

Так что давайте лучше употребим свои силы во имя добра! Например, вот секретный способ вывести (логгировать) в консоль отладочную информацию только для разработчиков (пользователи её увидеть не смогут; как вы знаете, большинство людей не подозревает даже о существовании самой консоли, а не то что о секретных «логах»!).

Нажмите в браузере Google Chrome сочетание клавиш `Ctrl + Shift + I` и на вкладке `Console` наберите:

```javascript
console.log('Совершенно секретно! Только для разработчиков!')
```

Как явствует из названия функции, мы выводим в консоль «лог» (то есть информацию о работе системы); этой доброй суперспособностью разработчики пользуются постоянно. Скажем, когда у вас были сообщения об ошибках, вы видели в консоли именно это — интерпретатор выдавал («логгировал») в консоль информацию о работе системы, чтобы вы могли прочесть и исправить нужные параметры. Словом, очень полезная штука. Вам не раз и не два придётся прибегнуть к помощи `console.log()`, так что запомните эту функцию!

Построчно введите следующий команды:

```javascript
console.log('Выведите любое сообщение, какое пожелаете')
console.log('просто введите сюда какую‑нибудь ' + 'строку')
let myMessage = 'А ещё в качестве аргумента можно использовать переменные!'
console.log(myMessage)
```

Пока вы играете с логами в консоли, я покажу вам ещё один трюк. Его мне поможет выполнить наш старый добрый друг — обратный слэш!

При его содействии `\n` можно разбивать свой код по строчкам. Попробуйте сами!
Построчно введите следующий команды:

```javascript
console.log('Можно разбить любой текст\n на многие\n строчки.')
console.log('Вот первая.\nА вот 2‑я.\n3‑я\n4‑я\n5‑я!')
```

Эта штука с `\n` вообще‑то имеет множество полезных практических применений. Например, можно нарисовать в кодировке [ASCII](https://ru.wikipedia.org/wiki/ASCII) мишку в консоли. Набирайте в консоли:

```javascript
console.log(" c___c\n /. .\\\n \\_T_/\n /' '\\\n(/ . \\)\n/';‑;'\\\n()/ \\()")
```

Понятно, почему так выходит?

Каждый `\n` задаёт переход на новую строчку, так что последующие символы как бы «спускаются» ниже, и вуаля! Мы с вами внесли серьёзный вклад в развитие общества нарисовав премилого мишку!

### Math.random()

А вот ещё одна очень полезная встроенная функция: Math.random(). Обратите внимание, что, в отличие от предыдущих, название этой функции начинается с прописной буквы `'M'`. Тому есть причины, приписные и строчные буквы в JavaScript различаются по внутренним кодам.
В каждом языке, будь то русский, английский или JavaScript, всегда есть какие‑то исключения из правил. Вот это — одно из них. Все прочие переменные и функции, которые вы встретите в этой книге, следует писать со строчной буквы. Помните, что регистр — это важная штука и, если название `Math.random()` начать с `math`, то функция просто не запустится!

```jsx live
function learnJavaScript() {
  return Math.random()
}
```

Каждый раз новое число! Функция выдаёт случайное вещественное число между 0 и 1.

Давайте модернизируем уравнение:

```jsx live
function learnJavaScript() {
  return Math.random() * 100
}
```

Если вам вдруг понадобится случайное число в диапазоне 0 до 100, то эта функция вам очень пригодится.

### Math.floor()

Эта функция требует число или цифру в качестве аргумента и получив округляет их в меньшую сторону.

```javascript
Math.floor(10.7) // 10
Math.floor(4.8) // 4
Math.floor(14.19723) // 14
```

```jsx live
function learnJavaScript() {
  return Math.floor(10.7)
}
```

### Math.round()

`Math.round(x)` же наоборот до ближайшего целого, без каких‑либо десятых долей после запятой.

```javascript
Math.round(10.7) // 11
Math.round(4.8) // 5
Math.round(14.19) // 14
```

```jsx live
function learnJavaScript() {
  return Math.round(10.7)
}
```

### .toUpperCase() / .toLowerCase()

Вы КОГДА‑НИБУДЬ замечали, ЧТО в НЕКОТОРЫХ сообщениях ЧЕРЕСЧУР много СЛОВ, выделенных ПРОПИСНЫМИ буквами?
Что ж, именно этому мы сейчас и научимся.

Вы можете запросто взять любую строку и вернуть её новую версию через прописные буквы (то есть в верхнем / нижнем регистре), используя встроенный метод `.toUpperCase() / .toLowerCase()`. И, соответственно, можно вернуть любую строку в строчных буквах (то есть в нижнем регистре).

Помните, что `метод — это всего лишь функция`, прикреплённая к описанному объекту, в данном случае к универсальной строке.

Работает это так, `.toUpperCase()` в прописные буквы:

```jsx live
function learnJavaScript() {
  return 'Я люблю пиццу!'.toUpperCase()
}
```

А `.toLowerCase()` в строчные:

```jsx live
function learnJavaScript() {
  return 'СЛУШАЙ, НУ ХВАТИТ УЖЕ ТАК ОРАТЬ.'.toLowerCase()
}
```

## А теперь всё вместе!

Попробуем замешать небольшой коктейль из только что выученных функций.

```jsx live
function learnJavaScript() {
  // randomNumber - случайное число от 0 до 1
  let randomNumber = Math.random()
  // Умножим на 100 наше случайное число, чтобы получить число между [0 ; 100] сместив запятую на 2 разряда вправо
  let number100 = randomNumber * 100
  // Применим Math.floor() для округления В МЕНЬШУЮ СТОРОНУ
  let task = 'Выбрано число от 0 до 100: '
  let numberBig = Math.floor(number100)
  // Вывод результата
  return task + numberBig
}
```

Надеюсь, ничего из сделанного не оказалось для вас трудной задачкой, и вы всё поняли. Если нет, то не торопясь просмотрите каждую строчку и комментарии к ней.

## Arrow Function (стрелочные функции)

Существует ещё более простой и краткий синтаксис для создания функций, который часто лучше, чем синтаксис Function Expression.

Итак, классический вариант записи функции:

Function Declaration:

```javascript
function func1(arg1, arg2, ...argN) {
  return expression
}
```

Function Expression:

```javascript
let func1 = function (arg1, arg2, ...argN) {
  return expression
}
```

Такой код создаёт функцию `func1` с аргументами `arg1, .. argN` и вычисляет `expression - набор действий алгоритма` с правой стороны с их использованием, возвращая результат вычислений через ключевое слово `return`.

:::note Функция-объект
Каждая функция JavaScript на самом деле является объектом функции.
:::

Но давайте применим `«функции-стрелки»` или `«стрелочные функции»` (Arrow functions):

```javascript
let func1 = (arg1, arg2, ...argN) => expression
```

Другими словами, это более короткий вариант такой записи.

:::note Во как !
`=>` нам заменила { return ... } с правой стороны и позволила не писать ключевое слово `function` с левой стороны!
:::

Давайте взглянем на конкретный пример:

```jsx live
function learnJavaScript() {
  // Исходная форма функции сложения 2-х чисел
  let calcSum1 = function (a, b) {
    return a + b
  }
  // Стрелочная форма (нет слова `function` и `return`)
  let calcSum2 = (a, b) => a + b

  return calcSum1(5, 2) + ' или ' + calcSum2(5, 2) // 7 или 7
}
```

Оба варианта правильны! `function` практически не используется в современом написании кода, поэтому используйте «стрелочные функции»

### Только один аргумент

Если у нас только один аргумент, то `круглые скобки` вокруг параметров можно опустить, сделав запись ещё короче `let num2 = n => n * 2`

```jsx live
function learnJavaScript() {
  // Исходная форма функции сложения 2-х чисел:
  let num1 = function (n) {
    return n * 2
  }

  // удалите скобки вокруг n
  let num2 = (n) => n * 2

  return num1(7) + ' или ' + num2(7) // 14
}
```

### Если нет аргументов

Если нет аргументов, то чтобы не получилось двойное `==`, указываются `пустые круглые скобки`:

```jsx live
function learnJavaScript() {
  let messHello = () => 'Hello!'

  return messHello()
}
```

`"Функции-стрелки"` могут быть использованы так же, как и `Function Expression`.

Они очень удобны для простых однострочных действий и выглядят очень компактно.

## Самовыполняющиеся функции(IIFE)

`Immediately Invoked Function Expression` - это JavaScript функция, которая выполняется сразу же после того, как она была определена. JavaScript позволяет создавать, кроме обычных и стрелочных, также и анонимные функции, выполняющие важную роль в JavaScript.

### Анонимные функции

Если после function есть имя — функция именованная, во всех остальных случая анонимная.
Анонимные функции зачастую создаются и сразу же запускаются. Еще одно важное отличие в том, что именованные функции объявляются, а анонимные создаются при помощи оператора function.

Нажмите в браузере Google Chrome сочетание клавиш `Ctrl + Shift + I` и на вкладке `Console` наберите:

```
(function (num1, num2) {
  return num1 + num2
})(7, 4)
```

Самовызывание создается скобками в конце функции, которые говорят интерпретатору, что эту функцию необходимо запустить сразу.

## Заключение

Поняв суть стрелочных и обычных функций, вы сможете передавать функции в объекты-переменные и перестроить код по модулям. Функции такого рода можно использовать также и для создания и возврата других функций. Тут речь уже заходит о замыкании, о котором мы поговорим в следующих сериях.

## Вопросы:

1. Как объявляется функция?

- function имя (параметры, через, запятую) {
  // тело, код функции
  }

- procedure имя (параметры) {
  // тело, код функции
  }

- let имя (параметры) {}

2. Точка выхода или возврата результата в фнкции ?

- Esc
- return
- Hello

3. Ключевое слово return внутри тела функции:

- обязательна
- не обязательна

4. Дана функция

```javascript
function addThree(x) {
  return x + 3
}

addThree(20)
```

Определите формальный параметр:

- 20
- x
- x + 3

Определите аргумент:

- 20
- x
- x + 3

5. Встроенная функция?

- console.log()
- myMessage()
- return()

6. Стрелочные функции используют синтаксис?

- Вперед()
- =>
- go.Стрелка

7. Использование стрелочных функций позволяет?

- писать код компакто и более безопасно
- увеличивает структуру кода
- позволяет использовать новые переменные

8. Самовыполняющаяся функция - это

- функция, которая выполняется сразу же после того, как она была определена
- встроенная функция в JavaScript
- Это обыкновенная процедура, выполняющая последовательность команд

Для того чтобы понять, на сколько вы усвоили этот урок, пройдите тест в [мобильном приложении](http://onelink.to/njhc95) нашей школы по этой теме.

## Ссылки:

1. [MDN web docs - Function](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Function)
2. [Learn.javascript.ru - Статья "Функции"](https://learn.javascript.ru/function-basics)
3. [Learn.javascript.ru - Статья "Функции-стрелки"](https://learn.javascript.ru/arrow-functions-basics)
4. [Анонимные и самовыполняющиеся функции в JavaScript](https://webformyself.com/anonimnye-i-samovypolnyayushhiesya-funkcii-v-javascript/)
5. [Developer.mozilla.org - Статья "Math"](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Math)
6. [Developer.mozilla.org - Статья "Стрелочные функции"](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Functions/Arrow_functions)
7. [Basicweb.ru - Статья "JavaScript функции"](https://basicweb.ru/javascript/js_function.php)
8. [Javascript.ru - Статья "Функции"](https://javascript.ru/basic/functions)
9. [Код для подростков: прекрасное руководство по программированию для начинающих, том 1: Javascript - Jeremy Moritz ](https://www.amazon.com/Code-Teens-Beginners-Programming-Javascript-ebook/dp/B07FCTLVPC)

## Contributors ✨

Thanks goes to these wonderful people ([emoji key](https://allcontributors.org/docs/en/emoji-key)):

<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->
<!-- prettier-ignore-start -->
<!-- markdownlint-disable -->
<table>
  <tr>
    <td align="center"><a href="https://github.com/KoDim-React"><img src="https://avatars1.githubusercontent.com/u/72087863?v=4?s=200" width="200px;" alt=""/><br /><sub><b>Dmitriy K.</b></sub></a><br /><a href="#mentoring-KoDim-React" title="Mentoring">📖</a></td>
    <td align="center"><a href="https://fullstackserverless.github.io/"><img src="https://avatars0.githubusercontent.com/u/6774813?v=4?s=200" width="200px;" alt=""/><br /><sub><b>Dmitriy Vasilev</b></sub></a><br /><a href="#financial-gHashTag" title="Financial">💵</a></td>
  </tr>
</table>

<!-- markdownlint-restore -->
<!-- prettier-ignore-end -->

<!-- ALL-CONTRIBUTORS-LIST:END -->

[![Become a Patron!](/img/logo/patreon.png)](https://www.patreon.com/bePatron?u=31769291)
